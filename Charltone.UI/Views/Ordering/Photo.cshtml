@using Charltone.UI.ViewModels.Ordering
@model OrderingPhotoEditViewModel

@{
    ViewBag.Title = "Charltone Photo Management";
}
<script type="text/javascript">
    $(document).ready(function () {
        file.enableUpload();
    });
</script>

<div id="orderingphotoedit">
    <div id="orderingphotocontent">
        @Html.ValidationSummary(true)
        <div class="editlink" id="editphotolinks">
            @Html.ActionLink("Edit", "Edit", new { id = @Model.OrderingId })
            &nbsp
            @Html.ActionLink("Main List", "Index", "Ordering")
        </div>

        <div id="orderingphotoheader">
            <div id="orderingphotomodel">Ordering photo for model</div>
            <div id="orderingphotomodeldesc">@Model.Model</div>
        </div>

        <div id="orderingphotodetail">
            @using (Html.BeginForm(@Model.OrderingId + "/Photo", "Ordering", FormMethod.Post, new { @enctype = "multipart/form-data" }))
            {
                <div id="orderingphotoupload">
                    <label for="File">Photo:</label>
                    <input type="file" class="fileinput" name="File" />
                    <input type="submit" value="Upload" disabled="disabled" />
                    @Html.ValidationMessageFor(model => model.File)
                </div>
            }

            @using (Html.BeginForm(Model.OrderingId + "/Photo", "Ordering"))
            {
                <div id="orderingphotodefault">
                    <img class="orderingmainphoto" id="currentphoto" src=@Url.Action("GetPhoto", "Ordering", new { id = Model.OrderingId }) alt='' />
                </div>
            }
        </div>
    </div>
</div>